<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BoroBurgers - Order Management System</title>
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --primary-color: #2563eb;
      --primary-hover: #1d4ed8;
      --success-color: #059669;
      --error-color: #dc2626;
      --warning-color: #d97706;
      --gray-50: #f9fafb;
      --gray-100: #f3f4f6;
      --gray-200: #e5e7eb;
      --gray-300: #d1d5db;
      --gray-400: #9ca3af;
      --gray-500: #6b7280;
      --gray-600: #4b5563;
      --gray-700: #374151;
      --gray-800: #1f2937;
      --gray-900: #111827;
      --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
      --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
      --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      line-height: 1.6;
    }

    /* Login Container */
    .login-container {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }

    .login-card {
      background: white;
      border-radius: 16px;
      box-shadow: var(--shadow-xl);
      padding: 40px;
      width: 100%;
      max-width: 400px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .login-header {
      text-align: center;
      margin-bottom: 32px;
    }

    .login-header h1 {
      color: var(--gray-900);
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .login-header p {
      color: var(--gray-500);
      font-size: 14px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-label {
      display: block;
      font-size: 14px;
      font-weight: 500;
      color: var(--gray-700);
      margin-bottom: 6px;
    }

    .form-input {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid var(--gray-200);
      border-radius: 8px;
      font-size: 16px;
      transition: all 0.2s ease;
      background: var(--gray-50);
    }

    .form-input:focus {
      outline: none;
      border-color: var(--primary-color);
      background: white;
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }

    .btn-primary {
      width: 100%;
      background: var(--primary-color);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      box-shadow: var(--shadow-sm);
    }

    .btn-primary:hover {
      background: var(--primary-hover);
      transform: translateY(-1px);
      box-shadow: var(--shadow-md);
    }

    .btn-primary:active {
      transform: translateY(0);
    }

    /* Dashboard Container */
    .dashboard-container {
      display: none;
      min-height: 100vh;
      background: var(--gray-50);
    }

    .header {
      background: white;
      box-shadow: var(--shadow-sm);
      padding: 16px 0;
      border-bottom: 1px solid var(--gray-200);
    }

    .header-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .logo h1 {
      color: var(--gray-900);
      font-size: 24px;
      font-weight: 700;
    }

    .user-menu {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .user-info {
      color: var(--gray-600);
      font-size: 14px;
    }

    .btn-secondary {
      background: var(--gray-100);
      color: var(--gray-700);
      border: 1px solid var(--gray-300);
      padding: 8px 16px;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .btn-secondary:hover {
      background: var(--gray-200);
    }

    .main-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 32px 20px;
      display: grid;
      grid-template-columns: 1fr 400px;
      gap: 32px;
    }

    .card {
      background: white;
      border-radius: 12px;
      box-shadow: var(--shadow-sm);
      border: 1px solid var(--gray-200);
      overflow: hidden;
    }

    .card-header {
      padding: 20px 24px;
      border-bottom: 1px solid var(--gray-200);
      background: var(--gray-50);
    }

    .card-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--gray-900);
      margin: 0;
    }

    .card-content {
      padding: 24px;
    }

    .order-input-section {
      margin-bottom: 24px;
    }

    .input-group {
      display: flex;
      gap: 12px;
      margin-bottom: 16px;
    }

    .order-input {
      flex: 1;
      padding: 12px 16px;
      border: 2px solid var(--gray-200);
      border-radius: 8px;
      font-size: 14px;
      transition: all 0.2s ease;
    }

    .order-input:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }

    .btn-add {
      background: var(--success-color);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      white-space: nowrap;
    }

    .btn-add:hover {
      background: #047857;
      transform: translateY(-1px);
    }

    .section {
      margin-bottom: 24px;
    }

    .section-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--gray-800);
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .button-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 8px;
    }

    .btn-option {
      background: white;
      color: var(--gray-700);
      border: 2px solid var(--gray-200);
      padding: 10px 12px;
      border-radius: 6px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      text-align: left;
    }

    .btn-option:hover {
      border-color: var(--primary-color);
      background: var(--primary-color);
      color: white;
      transform: translateY(-1px);
    }

    .price-display {
      background: var(--gray-100);
      padding: 16px;
      border-radius: 8px;
      text-align: center;
      margin-top: 16px;
    }

    .current-price {
      font-size: 14px;
      color: var(--gray-600);
      margin-bottom: 4px;
    }

    .price-amount {
      font-size: 24px;
      font-weight: 700;
      color: var(--primary-color);
    }

    .orders-list {
      list-style: none;
      max-height: 400px;
      overflow-y: auto;
    }

    .order-item {
      background: var(--gray-50);
      border: 1px solid var(--gray-200);
      border-radius: 8px;
      padding: 16px;
      margin-bottom: 12px;
      transition: all 0.2s ease;
    }

    .order-item:hover {
      background: white;
      box-shadow: var(--shadow-sm);
    }

    .order-header {
      display: flex;
      justify-content: between;
      align-items: center;
      margin-bottom: 8px;
    }

    .order-id {
      font-weight: 600;
      color: var(--primary-color);
      font-size: 14px;
    }

    .order-price {
      font-weight: 700;
      color: var(--success-color);
      font-size: 16px;
    }

    .order-details {
      color: var(--gray-600);
      font-size: 14px;
      line-height: 1.4;
    }

    .summary-card {
      background: linear-gradient(135deg, var(--primary-color), var(--primary-hover));
      color: white;
      padding: 24px;
      border-radius: 12px;
      text-align: center;
      margin-top: 24px;
    }

    .summary-title {
      font-size: 16px;
      margin-bottom: 8px;
      opacity: 0.9;
    }

    .summary-price {
      font-size: 32px;
      font-weight: 700;
    }

    /* Toast Notifications */
    .toast {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 16px 20px;
      border-radius: 8px;
      color: white;
      font-weight: 500;
      z-index: 1000;
      transform: translateX(400px);
      transition: transform 0.3s ease;
      box-shadow: var(--shadow-lg);
    }

    .toast.show {
      transform: translateX(0);
    }

    .toast.success {
      background: var(--success-color);
    }

    .toast.error {
      background: var(--error-color);
    }

    .toast.warning {
      background: var(--warning-color);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .main-content {
        grid-template-columns: 1fr;
        gap: 20px;
        padding: 20px;
      }

      .header-content {
        padding: 0 16px;
      }

      .button-grid {
        grid-template-columns: 1fr;
      }

      .input-group {
        flex-direction: column;
      }
    }

    .empty-state {
      text-align: center;
      padding: 40px 20px;
      color: var(--gray-500);
    }

    .empty-state svg {
      width: 64px;
      height: 64px;
      margin-bottom: 16px;
      opacity: 0.5;
    }
  </style>
</head>
<body>
  <!-- Login Screen -->
  <div class="login-container" id="loginScreen">
    <div class="login-card">
      <div class="login-header">
        <h1>üçî BoroBurgers</h1>
        <p>Order Management System</p>
      </div>
      <form id="loginForm">
        <div class="form-group">
          <label class="form-label" for="username">Username</label>
          <input type="text" id="username" class="form-input" required autocomplete="username">
        </div>
        <div class="form-group">
          <label class="form-label" for="password">Password</label>
          <input type="password" id="password" class="form-input" required autocomplete="current-password">
        </div>
        <button type="submit" class="btn-primary">Sign In</button>
      </form>
      <div style="margin-top: 24px; padding-top: 24px; border-top: 1px solid var(--gray-200); text-align: center;">
        <p style="color: var(--gray-500); font-size: 12px; margin-bottom: 8px;">Demo Credentials:</p>
        <p style="color: var(--gray-600); font-size: 13px;">Username: <strong>admin</strong> | Password: <strong>admin123</strong></p>
      </div>
    </div>
  </div>

  <!-- Dashboard -->
  <div class="dashboard-container" id="dashboard">
    <header class="header">
      <div class="header-content">
        <div class="logo">
          <span style="font-size: 24px;">üçî</span>
          <h1>BoroBurgers</h1>
        </div>
        <div class="user-menu">
          <span class="user-info">Welcome, <strong id="currentUser">Admin</strong></span>
          <button class="btn-secondary" onclick="logout()">Sign Out</button>
        </div>
      </div>
    </header>

    <main class="main-content">
      <div class="card">
        <div class="card-header">
          <h2 class="card-title">New Order</h2>
        </div>
        <div class="card-content">
          <div class="order-input-section">
            <div class="input-group">
              <input type="text" id="orderInput" class="order-input" placeholder="Enter order details...">
              <button class="btn-add" onclick="addOrder()">Add Order</button>
            </div>
            <div class="price-display">
              <div class="current-price">Current Order Total</div>
              <div class="price-amount">¬£<span id="currentPrice">0.00</span></div>
            </div>
          </div>

          <div class="section">
            <h3 class="section-title">üî• Popular Items</h3>
            <div class="button-grid">
              <button class="btn-option" onclick="autofill('The Classic', 5.99)">The Classic<br><strong>¬£5.99</strong></button>
              <button class="btn-option" onclick="autofill('The Serbian Burger', 6.49)">The Serbian Burger<br><strong>¬£6.49</strong></button>
              <button class="btn-option" onclick="autofill('The BigMak', 7.99)">The BigMak<br><strong>¬£7.99</strong></button>
              <button class="btn-option" onclick="addMeal()">Add Meal üçüü•§<br><strong>¬£2.99</strong></button>
            </div>
          </div>

          <div class="section">
            <h3 class="section-title">‚ûï Add-ons</h3>
            <div class="button-grid">
              <button class="btn-option" onclick="autofill('Extra Lettuce', 0.75)">Extra Lettuce<br><strong>¬£0.75</strong></button>
              <button class="btn-option" onclick="autofill('Extra Tomatoes', 0.75)">Extra Tomatoes<br><strong>¬£0.75</strong></button>
              <button class="btn-option" onclick="autofill('Extra Caramelized Onions', 1.00)">Extra Onions<br><strong>¬£1.00</strong></button>
              <button class="btn-option" onclick="autofill('Extra Mayo', 0.50)">Extra Mayo<br><strong>¬£0.50</strong></button>
            </div>
          </div>

          <div class="section">
            <h3 class="section-title">‚ûñ Remove Items</h3>
            <div class="button-grid">
              <button class="btn-option" onclick="autofillCustom('No Lettuce')">No Lettuce</button>
              <button class="btn-option" onclick="autofillCustom('No Tomatoes')">No Tomatoes</button>
              <button class="btn-option" onclick="autofillCustom('No Onions')">No Onions</button>
              <button class="btn-option" onclick="autofillCustom('No Mayo')">No Mayo</button>
            </div>
          </div>

          <div class="section">
            <h3 class="section-title">üéØ Discounts</h3>
            <div class="button-grid">
              <button class="btn-option" onclick="applyReferral()">Referral Code<br><strong>10% Off</strong></button>
              <button class="btn-option" onclick="applyFamilyDiscount()">Friends & Family<br><strong>5% Off</strong></button>
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Recent Orders</h2>
        </div>
        <div class="card-content">
          <ul class="orders-list" id="ordersList">
            <div class="empty-state">
              <svg fill="currentColor" viewBox="0 0 24 24">
                <path d="M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H19V19C19 20.1 18.1 21 17 21H7C5.9 21 5 20.1 5 19V6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7ZM9 3V4H15V3H9ZM7 6V19H17V6H7Z"/>
              </svg>
              <p>No orders yet</p>
              <p style="font-size: 12px; margin-top: 4px;">Start by adding your first order above</p>
            </div>
          </ul>
          <div class="summary-card" id="summaryCard" style="display: none;">
            <div class="summary-title">Last Order Total</div>
            <div class="summary-price">¬£<span id="lastOrderPrice">0.00</span></div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Toast Container -->
  <div id="toastContainer"></div>

  <script>
    // Authentication state
    let isAuthenticated = false;
    let currentUser = null;
    let orderCounter = 1;

    // Check authentication on page load
    document.addEventListener('DOMContentLoaded', function() {
      console.log('DOM loaded, setting up application...');
      checkAuthState();
      setupEventListeners();
      
      // Initialize session timeout if already authenticated
      if (isAuthenticated) {
        resetSessionTimeout();
      }
    });

    function checkAuthState() {
      const authData = sessionStorage.getItem('boroburgers_auth');
      if (authData) {
        try {
          const auth = JSON.parse(authData);
          if (auth.isAuthenticated && auth.user) {
            isAuthenticated = true;
            currentUser = auth.user;
            showDashboard();
            return;
          }
        } catch (e) {
          sessionStorage.removeItem('boroburgers_auth');
        }
      }
      showLogin();
    }

    function setupEventListeners() {
      const loginForm = document.getElementById('loginForm');
      const orderInput = document.getElementById('orderInput');
      
      if (loginForm) {
        loginForm.addEventListener('submit', handleLogin);
      }
      
      if (orderInput) {
        orderInput.addEventListener('input', updateCurrentPrice);
      }
      
      // Add Enter key support for order input
      if (orderInput) {
        orderInput.addEventListener('keypress', function(e) {
          if (e.key === 'Enter') {
            addOrder();
          }
        });
      }
    }

    function handleLogin(e) {
      e.preventDefault();
      
      const username = document.getElementById('username').value.trim();
      const password = document.getElementById('password').value;

      // Add loading state to button
      const submitBtn = e.target.querySelector('button[type="submit"]');
      const originalText = submitBtn.textContent;
      submitBtn.textContent = 'Signing In...';
      submitBtn.disabled = true;

      // Simple authentication (in production, this would be server-side)
      const validCredentials = [
        { username: 'admin', password: 'admin123', name: 'Administrator' },
        { username: 'manager', password: 'manager123', name: 'Manager' },
        { username: 'staff', password: 'staff123', name: 'Staff Member' }
      ];

      // Simulate a small delay for better UX
      setTimeout(() => {
        const user = validCredentials.find(cred => 
          cred.username === username && cred.password === password
        );

        if (user) {
          isAuthenticated = true;
          currentUser = user;
          
          // Store auth state
          sessionStorage.setItem('boroburgers_auth', JSON.stringify({
            isAuthenticated: true,
            user: user,
            loginTime: new Date().toISOString()
          }));

          showToast('Login successful! Welcome back.', 'success');
          setTimeout(() => showDashboard(), 500);
        } else {
          showToast('Invalid credentials. Please try again.', 'error');
          // Clear password field
          document.getElementById('password').value = '';
          document.getElementById('password').focus();
        }

        // Reset button state
        submitBtn.textContent = originalText;
        submitBtn.disabled = false;
      }, 300);
    }

    function showLogin() {
      document.getElementById('loginScreen').style.display = 'flex';
      document.getElementById('dashboard').style.display = 'none';
      document.getElementById('username').focus();
    }

    function showDashboard() {
      document.getElementById('loginScreen').style.display = 'none';
      document.getElementById('dashboard').style.display = 'block';
      document.getElementById('currentUser').textContent = currentUser.name;
      document.getElementById('orderInput').focus();
    }

    function logout() {
      isAuthenticated = false;
      currentUser = null;
      sessionStorage.removeItem('boroburgers_auth');
      
      // Clear order data
      document.getElementById('orderInput').value = '';
      document.getElementById('orderInput').removeAttribute('data-price');
      document.getElementById('currentPrice').textContent = '0.00';
      document.getElementById('ordersList').innerHTML = `
        <div class="empty-state">
          <svg fill="currentColor" viewBox="0 0 24 24">
            <path d="M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H19V19C19 20.1 18.1 21 17 21H7C5.9 21 5 20.1 5 19V6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7ZM9 3V4H15V3H9ZM7 6V19H17V6H7Z"/>
          </svg>
          <p>No orders yet</p>
          <p style="font-size: 12px; margin-top: 4px;">Start by adding your first order above</p>
        </div>
      `;
      document.getElementById('summaryCard').style.display = 'none';
      
      showToast('Logged out successfully', 'success');
      setTimeout(() => showLogin(), 500);
    }

    function showToast(message, type = 'success') {
      const toast = document.createElement('div');
      toast.className = `toast ${type}`;
      toast.textContent = message;
      
      document.getElementById('toastContainer').appendChild(toast);
      
      setTimeout(() => toast.classList.add('show'), 100);
      setTimeout(() => {
        toast.classList.remove('show');
        setTimeout(() => toast.remove(), 300);
      }, 3000);
    }

    function updateCurrentPrice() {
      const input = document.getElementById('orderInput');
      const price = parseFloat(input.getAttribute('data-price') || '0');
      document.getElementById('currentPrice').textContent = price.toFixed(2);
    }

    function autofill(item, price) {
      if (!isAuthenticated) return;
      
      const input = document.getElementById('orderInput');
      const currentPrice = parseFloat(input.getAttribute('data-price') || '0');
      
      if (input.value.trim()) {
        input.value += ' + ' + item;
        input.setAttribute('data-price', (currentPrice + price).toFixed(2));
      } else {
        input.value = item;
        input.setAttribute('data-price', price.toFixed(2));
      }
      
      updateCurrentPrice();
      showToast(`Added: ${item} (¬£${price.toFixed(2)})`, 'success');
    }

    function autofillCustom(item) {
      if (!isAuthenticated) return;
      
      const input = document.getElementById('orderInput');
      if (input.value.trim()) {
        input.value += ' + ' + item;
      } else {
        input.value = item;
      }
      
      showToast(`Added: ${item}`, 'success');
    }

    function addMeal() {
      if (!isAuthenticated) return;
      
      const input = document.getElementById('orderInput');
      if (!input.value.trim()) {
        showToast('Please add a main item before adding a meal', 'warning');
        return;
      }
      
      const currentPrice = parseFloat(input.getAttribute('data-price') || '0');
      input.value += ' + Meal üçüü•§';
      input.setAttribute('data-price', (currentPrice + 2.99).toFixed(2));
      updateCurrentPrice();
      showToast('Added: Meal Deal (¬£2.99)', 'success');
    }

    function addOrder() {
      if (!isAuthenticated) return;
      
      const orderInput = document.getElementById('orderInput');
      const orderText = orderInput.value.trim();
      const price = parseFloat(orderInput.getAttribute('data-price') || '0');
      
      if (!orderText) {
        showToast('Please enter order details', 'error');
        return;
      }

      // Create order object
      const order = {
        id: orderCounter++,
        text: orderText,
        price: price,
        timestamp: new Date()
      };

      // Add to orders list
      addOrderToList(order);
      
      // Update summary
      document.getElementById('lastOrderPrice').textContent = price.toFixed(2);
      document.getElementById('summaryCard').style.display = 'block';
      
      // Clear input
      orderInput.value = '';
      orderInput.removeAttribute('data-price');
      updateCurrentPrice();
      
      showToast(`Order #${order.id} added successfully! (¬£${price.toFixed(2)})`, 'success');
    }

    function addOrderToList(order) {
      const ordersList = document.getElementById('ordersList');
      
      // Remove empty state if it exists
      const emptyState = ordersList.querySelector('.empty-state');
      if (emptyState) {
        emptyState.remove();
      }

      const orderItem = document.createElement('li');
      orderItem.className = 'order-item';
      orderItem.innerHTML = `
        <div class="order-header">
          <span class="order-id">#${order.id}</span>
          <span class="order-price">¬£${order.price.toFixed(2)}</span>
        </div>
        <div class="order-details">${order.text}</div>
        <div style="font-size: 12px; color: var(--gray-400); margin-top: 8px;">
          ${order.timestamp.toLocaleTimeString()}
        </div>
      `;
      
      ordersList.insertBefore(orderItem, ordersList.firstChild);
    }

    function applyReferral() {
      if (!isAuthenticated) return;
      
      const input = document.getElementById('orderInput');
      if (!input.value.trim()) {
        showToast('Please add items before applying discount', 'warning');
        return;
      }
      
      let currentPrice = parseFloat(input.getAttribute('data-price') || '0');
      if (currentPrice <= 0) {
        showToast('No valid price to discount', 'error');
        return;
      }
      
      const discount = currentPrice * 0.10;
      const newPrice = currentPrice - discount;
      input.value += ' + Referral Code (10% Off)';
      input.setAttribute('data-price', newPrice.toFixed(2));
      updateCurrentPrice();
      showToast(`10% discount applied! Saved ¬£${discount.toFixed(2)}`, 'success');
    }

    function applyFamilyDiscount() {
      if (!isAuthenticated) return;
      
      const input = document.getElementById('orderInput');
      if (!input.value.trim()) {
        showToast('Please add items before applying discount', 'warning');
        return;
      }
      
      let currentPrice = parseFloat(input.getAttribute('data-price') || '0');
      if (currentPrice <= 0) {
        showToast('No valid price to discount', 'error');
        return;
      }
      
      const discount = currentPrice * 0.05;
      const newPrice = currentPrice - discount;
      input.value += ' + Friends & Family (5% Off)';
      input.setAttribute('data-price', newPrice.toFixed(2));
      updateCurrentPrice();
      showToast(`5% discount applied! Saved ¬£${discount.toFixed(2)}`, 'success');
    }

    // Session timeout (30 minutes)
    let sessionTimeout;
    
    function resetSessionTimeout() {
      if (sessionTimeout) clearTimeout(sessionTimeout);
      sessionTimeout = setTimeout(() => {
        showToast('Session expired. Please log in again.', 'warning');
        setTimeout(logout, 2000);
      }, 30 * 60 * 1000); // 30 minutes
    }
    
    // Reset timeout on user activity
    document.addEventListener('click', resetSessionTimeout);
    document.addEventListener('keypress', resetSessionTimeout);
    
    // Initialize session timeout when authenticated
    if (isAuthenticated) {
      resetSessionTimeout();
    }
  </script>
</body>
</html>
